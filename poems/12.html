<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù‚ØµÙŠØ¯Ø© Ø§Ù„Ù…Ù†ÙØ±Ø¬Ø© </title>
  <link rel="icon" type="image/png" href="/images/logo.ico" sizes="32x32">
  <style>
    body {
      display: flex;
      justify-content: center;
      margin: 0;
      background-color: #f5f5f5;
      font-family: Arial, sans-serif;
      min-height: 100vh;
      position: relative;
      transition: background-color 0.3s, color 0.3s;
      color: #000;
    }

    .container {
      background: white;
      padding: 40px 60px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      text-align: center;
      position: relative;
      transition: background-color 0.3s, color 0.3s;
      color: #000;
      width: 600px;
      max-width: 90vw;
    }

    .font-size-controls {
      position: absolute;
      top: 40px;
      right: 60px;
      display: flex;
      flex-direction: row;
      gap: 10px;
      z-index: 2;
    }

    /* Top-left share, translation, transliteration buttons */
    .top-left-buttons {
      position: absolute;
      top: 40px;
      left: 170px;
      display: flex;
      flex-direction: row;
      gap: 10px;
      z-index: 2;
    }
    .button {
      display: inline-block;
      padding: 8px 14px;
      border-radius: 50%;
      background-color: #256328;
      color: white;
      text-decoration: none;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      user-select: none;
      outline: none;
      transition: background 0.2s, color 0.3s;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    /* Tooltip styles for buttons using data-tooltip attribute */
    .button[data-tooltip]:hover:after, .button[data-tooltip]:focus:after {
      content: attr(data-tooltip);
      position: absolute;
      left: 50%;
      top: 110%;
      transform: translateX(-50%);
      background: #222;
      color: #fff;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 0.85em;
      white-space: nowrap;
      pointer-events: none;
      z-index: 3000;
      opacity: 0.92;
    }
    .button:hover {
      background-color: #254563;
    }
    .back-button {
      position: absolute;
      top: 40px;
      left: 60px;
      z-index: 2;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      padding: 0;
      font-size: 1.2rem;
      line-height: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container p {
      margin: 15px 0;
      line-height: 2;
      direction: rtl;
      text-align: center;
      font-size: 1.2rem;
      transition: color 0.3s;
    }
    /* Alternate line colour for paragraphs with .alt class */
    .container p.alt {
      color: #256328;
    }
    .container .translation {
      font-size: 0.8em;
      font-style: normal;
      color: #444;
      direction: ltr;
      text-align: center;
      margin-top: 0.3em;
      margin-bottom: 0.8em;
      font-family: Arial, sans-serif;
      display: none;
      transition: color 0.3s;
    }
    .container .transliteration {
      font-size: 0.9em;
      font-style: italic;
      color: #666;
      direction: ltr;
      text-align: center;
      margin-top: -0.4em;
      margin-bottom: 0.7em;
      font-family: "Times New Roman", Times, serif;
      display: none;
      transition: color 0.3s;
    }
    @font-face {
      font-family: "Diwan Thuluth";
      src: url("/fonts/DiwanThuluth.ttf") format("truetype");
    }

    @font-face {
      font-family: "Al Tarikh";
      src: url("/fonts/AlTarikh.ttc") format("truetype");
    }

    @font-face {
      font-family: "Al Bayan";
      src: url("/fonts/Al Bayan.ttc") format("truetype");
    }

    h1 {
      font-family: "Diwan Thuluth", serif;
      transition: color 0.3s;
      color: #C99F35;
    }

    .container p {
      font-family: "Al Bayan", sans-serif;
      color: #6A7786
    }

    /* Dark mode styles */
    body.dark-mode {
      background-color: #121212;
      color: #e0e0e0;
    }

    body.dark-mode .container {
      background-color: #1e1e1e;
      color: #e0e0e0;
      box-shadow: 0 4px 10px rgba(255,255,255,0.1);
    }

    body.dark-mode .container p {
      color: #e0e0e0;
    }
    body.dark-mode .container p.alt {
      color: #53A2A9;
    }
    body.dark-mode .container .translation {
      color: #b8e1f2;
    }
    body.dark-mode .container .transliteration {
      color: #b7b7b7;
    }

    body.dark-mode h1 {
      color: #53A2A9;
    }

    body.dark-mode .button {
      background-color: #444;
      color: #e0e0e0;
    }

    body.dark-mode .button:hover {
      background-color: #666;
    }
body {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  margin: 0;
  background-color: #f5f5f5;
  font-family: Arial, sans-serif;
  min-height: 100vh;
  position: relative;
  transition: background-color 0.3s, color 0.3s;
  color: #000;
}

.page-layout {
  display: flex;
  align-items: stretch; /* makes nav-pane and container same height */
  gap: 30px; /* spacing between nav and content */
}

.nav-pane {
  background: white;
  color: #000;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  padding: 40px 40px;
  margin-right: 30px;
  width: 220px;
  max-width: 90vw;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  transition: transform 0.3s ease-in-out;
}

.nav-pane ul {
  list-style: none;
  padding: 0;
  margin: 0;
  width: 100%;
}

.nav-pane li {
  margin: 18px 0;
  width: 100%;
  text-align: center;
}

.nav-pane a {
  color: #256328;
  text-decoration: none;
  font-size: 1.1rem;
  padding: 8px 24px;
  border-radius: 8px;
  display: block;
  transition: background 0.2s, color 0.2s;
}

    .nav-pane a:hover,
    .nav-pane a.active {
      background: #254563;
      color: #fff;
    }

    #searchInput {
      width: 90%;
      padding: 8px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
      text-align: left;
      background: #fff;
      color: #000;
      transition: background 0.3s, color 0.3s, border-color 0.3s;
    }

    body.dark-mode #searchInput {
      background: #333;
      color: #e0e0e0;
      border: 1px solid #555;
    }

/* Dark mode for nav-pane */
body.dark-mode .nav-pane {
  background: #1e1e1e;
  color: #e0e0e0;
  box-shadow: 0 4px 10px rgba(255,255,255,0.1);
}

body.dark-mode .nav-pane a {
  color: #53A2A9;
}

body.dark-mode .nav-pane a:hover,
body.dark-mode .nav-pane a.active {
  background: #53A2A9;
  color: #1e1e1e;
}

/* Share menu modal styles */
#shareMenu {
  position: absolute;
  top: 85px;
  left: 500px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  width: 180px;
  display: none;
  flex-direction: column;
  z-index: 1000;
  font-family: Arial, sans-serif;
}

#shareMenu button {
  background: none;
  border: none;
  padding: 12px 20px;
  text-align: right;
  font-size: 1rem;
  cursor: pointer;
  color: #256328;
  border-bottom: 1px solid #eee;
  transition: background 0.2s, color 0.2s;
  user-select: none;
}

#shareMenu button:last-child {
  border-bottom: none;
}

#shareMenu button:hover {
  background: #254563;
  color: #fff;
  border-radius: 10px;
}

/* Dark mode for share menu */
body.dark-mode #shareMenu {
  background: #1e1e1e;
  color: #e0e0e0;
  box-shadow: 0 4px 12px rgba(255,255,255,0.2);
}

body.dark-mode #shareMenu button {
  color: #53A2A9;
  border-color: #333;
}

body.dark-mode #shareMenu button:hover {
  background: #53A2A9;
  color: #1e1e1e;
}

/* Responsive styles for small screens */
@media (max-width: 768px) {
  .nav-pane {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    margin: 0;
    padding: 40px 20px;
    width: 250px;
    max-width: 80vw;
    box-shadow: 2px 0 8px rgba(0,0,0,0.3);
    transform: translateX(-100%);
    z-index: 2000;
    background: white;
    transition: transform 0.3s ease-in-out;
  }
  body.dark-mode .nav-pane {
    background: #1e1e1e;
  }
  .nav-pane.show {
    transform: translateX(0);
  }
  .page-layout {
    gap: 0;
  }
  .container {
    width: 100%;
    max-width: 100vw;
    padding: 40px 20px 60px 20px;
  }
  .back-button {
    left: 60px;
  }
  #shareButton {
    left: 110px;
  }
  /* Hamburger button styles */
  .hamburger-button {
    position: absolute;
    top: 40px;
    left: 10px;
    z-index: 2100;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    padding: 0;
    font-size: 1.5rem;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #256328;
    color: white;
    border: none;
    cursor: pointer;
    user-select: none;
    outline: none;
    transition: background 0.2s, color 0.3s;
  }
  .hamburger-button:hover {
    background-color: #254563;
  }
}

/* Hide hamburger button on larger screens */
@media (min-width: 769px) {
  .hamburger-button {
    display: none;
  }
}
    /* Traditional chorus box style */
    .chorus-box {
      background-color: #fff8e1; /* soft parchment-like background */
      border: 2px solid #c99f35; /* golden frame-like border */
      border-radius: 12px;
      padding: 5px 10px;
      margin: 20px 0;
      font-family: "Al Bayan", serif; 
      font-size: 1.25rem;
      font-style: normal;
      text-align: center;
      line-height: 2;
      box-shadow: inset 0 0 10px rgba(200, 159, 53, 0.2);
      position: relative;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }

    /* Dark mode for chorus box */
    body.dark-mode .chorus-box {
      background-color: #2b2b1f; /* dark parchment */
      border-color: #53a2a9;
      color: #e0e0e0;
      box-shadow: inset 0 0 10px rgba(83, 162, 169, 0.2);
    }

    /* Decorative marks above and below chorus */
    .chorus-box::before,
    .chorus-box::after {
      content: "Û";
      display: block;
      font-size: 1.5rem;
      color: #c99f35;
      margin: 6px 0;
    }

    body.dark-mode .chorus-box::before,
    body.dark-mode .chorus-box::after {
      color: #53a2a9;
    }
  </style>
</head>
<body>
  <div class="page-layout">
    <nav class="nav-pane" id="navPane">
      <input 
        type="text" 
        id="searchInput" 
        placeholder="ğŸ” Search" 
      />
      <ul id="poemList">

      </ul>
    </nav>
    <div class="container" data-disable-chorus="true">
      <button class="button hamburger-button" id="hamburgerButton" aria-label="Toggle navigation menu">â˜°</button>
      <button id="shareButton" class="button back-button" style="left: 60px;" title="Share">ğŸ“¤</button>
      <button id="translationToggle" class="button back-button" style="left: 110px;" data-tooltip="Toggle Translation">ğŸŒ</button>
      <button id="transliterationToggle" class="button back-button" style="left: 160px;" data-tooltip="Toggle Transliteration">ğŸ”¤</button>
      <div class="font-size-controls">
        <button class="button" onclick="changeFontSize(1)" data-tooltip="ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·">+</button>
        <button class="button" onclick="changeFontSize(-1)" data-tooltip="ØªØµØºÙŠØ± Ø§Ù„Ø®Ø·">-</button>
        <button class="button" id="darkModeToggle" title="Toggle Dark Mode" data-tooltip="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ">ğŸŒ“</button>
      </div>
      <h1>Ù‚ØµÙŠØ¯Ø©Ø§Ù„Ù…Ù†ÙØ±Ø¬Ø©</h1>

      <!-- Chorus Box -->
      <div class="chorus-box">
        ÙŠÙÙ€Ù€Ø§ Ø¥ÙÙ…ÙÙ€Ù€Ø§Ù…Ù Ø§Ù„Ù€Ù€Ø±ÙÙ‘Ø³ÙÙ€Ù€Ù„Ù ÙŠÙÙ€Ù€Ø§ Ø³ÙÙ€Ù€Ù†ÙÙ€Ù€Ø¯ÙÙŠ Û Ø£ÙÙ†Ù’Ù€Ù€ØªÙ Ø¨ÙÙ€Ù€Ù€Ø§Ø¨Ù Ø§Ù„Ù€Ù€Ù„Ù€Ù€Ù‡Ù Ù…ÙÙ€Ù€Ø¹Ù’Ù€Ù€ØªÙÙ€Ù€Ù…ÙÙ€Ù€Ø¯ÙÙŠ
           
        ÙÙÙ€Ù€Ø¨ÙÙ€Ù€Ø¯ÙÙ†Ù’Ù€Ù€ÙŠÙÙ€Ù€Ø§ÙŠÙ ÙˆÙØ¢Ø®ÙÙ€Ù€Ø±ÙØªÙÙ€Ù€ÙŠ Û ÙŠÙÙ€Ù€Ø§Ø±ÙØ³ÙÙ€Ù€ÙˆÙ„Ù Ø§Ù„Ù€Ù€Ù„Ù€Ù€Ù‡Ù Ø®ÙÙ€Ù€Ø°Ù’ Ø¨ÙÙ€Ù€ÙŠÙÙ€Ù€Ø¯ÙÙŠ
      </div>

      <!-- Poem Input -->
<p>Ø§Ù„Ø´Ø¯ÙÙ‘Ø©Ù Ø£ÙˆÙ’Ø¯ÙØªÙ’ Ø¨Ø§Ù„Ù…ÙÙ‡ÙØ¬Ù Û ÙŠÙØ§ Ø±ÙØ¨ÙÙ‘ ÙÙØ¹ÙØ¬ÙÙ‘Ù„Ù’ Ø¨Ø§Ù„ÙÙØ±ÙØ¬ÙÂ </p>
<p>ÙˆØ§Ù„Ø£Ù†Ù’ÙÙØ³Ù Ø£Ø¶Ù’Ø­ÙØª ÙÙÙŠ Ø­ÙØ±ÙØ¬Ù Û ÙˆØ¨ÙÙŠÙØ¯ÙÙƒÙ ØªÙÙÙ’Ø±ÙÙŠØ¬Ù Ø§Ù„Ù’Ø­ÙØ±ÙØ¬Ù</p>

<p class="alt">Ù‡ÙØ§Ø¬ÙØªÙ’ Ù„ÙØ¯ÙØ¹ÙØ§ÙƒÙ Ø®ÙÙˆÙØ§Ø·ÙØ±ÙÙ†ÙØ§ Û ÙˆÙØ§Ù„ÙˆÙÙŠÙ’Ù„Ù Ù„ÙÙ‡ÙØ§ Ø¥ÙÙ†Ù’ Ù„ÙÙ…Ù’ ØªÙÙ‡ÙØ¬Ù</p>
<p class="alt">ÙŠÙØ§ Ù…ÙÙ†Ù’ Ø¹ÙÙˆÙÙ‘Ø¯Ù’ØªÙ Ø§Ù„Ù„ÙÙ‘Ø·Ù’ÙÙ Ø£ÙØ¹ÙØ¯Ù’ Û Ø¹ÙØ§Ø¯ÙØ§ØªÙÙƒÙ Ø¨Ø§Ù„Ù„ÙÙ‘Ø·Ù’ÙÙ Ø§Ù„Ø¨ÙÙ‡ÙØ¬Ù</p>

<p>ÙˆØ§ØºÙ’Ù„ÙÙ‚ Ø°ÙØ§ Ø§Ù„Ø¶ÙÙ‘ÙŠÙ‚ ÙˆØ´Ø¯ÙÙ‘ØªÙÙ‡Ù Û ÙˆØ§ÙÙ’ØªÙØ­ Ù…ÙØ§ Ø³ÙØ¯ÙÙ‘ Ù…ÙÙ†Ù Ø§Ù„ÙÙØ±ÙØ¬Ù</p>
<p>Ø¹ÙØ¬Ù’Ù†ÙØ§ Ù„ÙØ¬ÙÙ†ÙØ§Ø¨ÙÙƒÙ Ù†ÙÙ‚Ù’ØµÙØ¯ÙÙ‡Ù Û ÙˆØ§Ù„Ø£Ù†Ù’ÙÙØ³Ù ÙÙÙŠ Ø£ÙˆÙ’Ø¬Ù Ø§Ù„ÙˆÙÙ‡ÙØ¬Ù</p>

<p class="alt">ÙˆÙØ§Ù„ÙÙ‰ Ø£ÙÙ’Ø¶ÙØ§Ù„ÙÙƒÙ ÙŠÙØ§ Ø£ÙÙ…Ù„ÙÙ‰ Û ÙŠÙØ§ Ø¶ÙÙŠÙ’Ø¹ÙØªÙÙ†ÙØ§ Ø¥ÙÙ† Ù„ÙÙ…Ù’ Ù†ÙØ¹ÙØ¬Ù</p>
<p class="alt">Ù…ÙÙ†Ù’ Ù„ÙÙ„Ù’Ù…ÙÙ„Ù’Ù‡ÙÙˆÙÙ Ø³ÙÙˆÙØ§ÙƒÙ ÙŠÙØºØ«Ù’ Û Ø£ÙÙˆÙ’ Ù„Ù„Ù…ÙØ¶ÙÙ‘Ø·ÙØ±Ù Ø³ÙÙˆÙØ§Ùƒ Ù†ÙØ¬ÙÙŠ</p>

<p>ÙˆØ¥Ø³ÙØ§Ø¡ÙØªÙÙ†Ø§ Ù„ÙÙ†Ù’ ØªÙÙ‚Ù’Ø·ÙØ¹ÙÙ†ÙØ§ Û Ø¹ÙÙ†Ù’ Ø¨ÙØ§Ø¨ÙÙƒÙ Ø­ØªÙÙ‘Ù‰ Ù„ÙÙ…Ù’ Ù†ÙÙ„ÙØ¬Ù</p>
<p>ÙÙ„ÙÙƒÙ…Ù’ Ø¹Ø§ØµÙ Ø£Ø®Ù’Ø·ÙØ§ ÙˆÙØ±ÙØ¬ÙØ§ÙƒÙ Û Ø§Ø¨Ù’Ø­ÙØ« Ù„ÙÙ‡Ù Ù…ÙØ§ Ù…ÙÙ†Ù’Ùƒ Ø±Ø¬Ù‰</p>

<p class="alt">ÙŠÙØ§ Ø³ÙÙŠÙÙ‘Ø¯ÙÙ†Ø§ ÙŠÙØ§ Ø®ÙØ§Ù„ÙÙ‚ÙÙ†ÙØ§ Û Ù‚ÙØ¯Ù’ Ø¶ÙØ§Ù‚Ù Ø§Ù„Ø­ÙØ¨Ù’Ù„Ù Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙØ¯ÙØ¬Ù</p>
<p class="alt">ÙˆÙØ¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ Ø£Ø¶Ù’Ø­ÙÙˆØ§ ÙÙÙŠ Ø£Ù„ÙÙ…Ù Û Ù…ÙØ§ Ø¨ÙÙŠÙ’Ù†Ù Ù…ÙÙƒÙÙŠÙ’Ø±Ø¨Ù ÙˆÙØ´Ø¬ÙŠ</p>

<p>ÙˆØ§Ù„Ø£Ø­Ù’Ø´ÙØ§ ØµÙØ§Ø±ÙØªÙ’ ÙÙÙŠ Ø­ÙØ±ÙÙ‚Ù Û ÙˆØ§Ù„Ø£Ø¹Ù’ÙŠÙÙ†Ù ØªÙÙ…ÙØ§Ø±ÙØª ÙÙÙŠ Ù„ÙØ¬ÙØ¬Ù</p>
<p>ÙØ§Ù„Ø£Ø¹Ù’ÙŠÙÙ†Ù ØµÙØ§Ø±ÙØªÙ’ ÙÙÙŠ Ù„ÙØ¬ÙØ¬ Û ØºÙØ§ØµÙØªÙ’ ÙÙÙŠ Ø§Ù„Ù…ÙÙˆÙ’Ø¬Ù Ù…ÙØ¹Ù Ø§Ù„Ù…ÙÙ‡ÙØ¬Ù</p>

<p class="alt">ÙˆØ§Ù„Ø£Ø²Ù…Ù†Ø©Ù Ø²ÙØ§Ø¯ÙØª Ø´ÙØ¯ÙÙ‘ØªÙÙ‡Ø§ Û ÙŠÙØ§ Ø£Ø²Ù’Ù‚Ø©ÙŒ Ø¹Ù„ÙÙ‘Ùƒ ØªÙÙ†Ù’ÙÙØ±Ø¬Ù</p>
<p class="alt">Ø¬ÙØ¦Ù’Ù†ÙØ§ÙƒÙ Ø¨ÙÙ‚ÙÙ„Ù’Ø¨Ù Ù…ÙÙ†Ù’ÙƒÙØ³ÙØ± Û ÙˆÙÙ„ÙØ³ÙØ§Ù†Ù Ø¨Ø§Ù„Ø´ÙƒÙ’ÙˆÙÙ‰ Ù„ÙÙ‡Ø¬ÙÂ </p>

<p>ÙˆÙØ¨ÙØ®ÙÙˆÙ’ÙÙ Ø§Ù„Ø²Ù‘Ù„ÙÙ‘Ø©Ù ÙÙÙŠ ÙˆÙØ¬ÙÙ„Ù Û Ù„ÙÙƒÙÙ†Ù’ Ø¨ÙØ±ÙØ¬ÙØ§Ø¦ÙÙƒÙ Ù…ÙÙ…Ù’ØªÙØ²ÙØ¬ÙÂ </p>
<p>ÙÙƒÙ… Ø§Ø³Ù’ØªÙØ´Ù’Ù‚ÙÙ‰ Ù…ÙØ±Ù’ÙƒÙÙˆÙ…Ù Ø§Ù„Ø°ÙÙ‘Ù†Ù’Ø¨Ù Û Ø¨Ù†ÙØ´Ù’Ø± Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙØ©Ù ÙˆØ§Ù„Ø£Ø±ÙØ¬Ù</p>

<p class="alt">ÙˆÙØ¨ÙØ¹ÙŠÙ’Ù†ÙÙƒÙ Ù…ÙØ§ ØªÙÙ„Ù’Ù‚ÙØ§Ù‡Ù ÙˆÙ…ÙØ§ Û ÙÙÙŠÙ‡Ù Ø§Ù„Ø£Ø­Ù’ÙˆÙØ§Ù„Ù Ù…ÙÙ† Ø§Ù„Ù…Ø²Ø¬ÙÙ‰</p>
<p class="alt">ÙˆÙØ§Ù„ÙÙØ¶Ù’Ù„ Ø£ÙØ¹ÙÙ…ÙÙ‘ ÙˆÙÙ„ÙÙƒÙÙ† Ù‚ÙØ¯Ù’ Û Ù‚ÙÙ„Ù’ØªÙ Ø§Ø¯Ù’Ø¹ÙÙˆÙ†ÙÙŠ ÙÙÙ„Ù’Ù†ÙØ¨Ù’ØªÙÙ‡ÙØ¬ÙÂ </p>

<p>ÙÙØ¨ÙÙƒÙÙ„ÙÙ‘ Ù†ÙØ¨ÙÙŠÙÙ‘ Ù†ÙØ³Ù’Ø£ÙÙ„Ù ÙŠÙØ§ Û Ø±ÙØ¨ÙÙ‘ Ø§Ù„Ø£Ø±Ù’Ø¨ÙØ§Ø¨ ÙˆÙƒÙ„ÙÙ‘ Ù†Ø¬ÙŠ</p>
<p>ÙˆÙØ¨ÙÙÙØ¶Ù’Ù„Ù Ø§Ù„ÙÙ‘Ø°ÙƒÙ’Ø±Ù ÙˆÙØ­ÙÙƒÙ’Ù…ÙØªÙÙ‡ Û ÙˆÙØ¨ÙÙ…ÙØ§ Ù‚ÙØ¯Ù’ Ø£ÙÙˆÙ’Ø¶ÙØ­Ù Ù…ÙÙ†Ù’ Ù†ÙÙ‡ÙØ¬Ù</p>

<p class="alt">ÙˆÙØ¨ÙØ³ÙØ±ÙÙ‘ Ø§Ù„Ø£Ø­Ù’Ø±ÙÙÙ Ø¥Ø°Ù’ ÙˆÙØ±ÙØ¯ÙØªÙ’ Û Ø¨ÙØ¶ÙÙŠÙØ§Ø¡Ù Ø§Ù„Ù†ÙÙ‘ÙˆØ±Ù Ø§Ù„Ù…Ù†Ù’Ø¨ÙÙ„ÙØ¬Ù</p>
<p class="alt">ÙˆÙØ¨ÙØ³ÙØ±ÙÙ‘ Ø£ÙÙˆØ¯ÙØ¹Ù ÙÙÙŠ Ø¨ÙØ·ÙØ¯Ù Û ÙˆÙØ¨ÙÙ…ÙØ§ ÙÙÙŠ ÙˆÙØ§Ø­Ù Ù…ÙØ¹Ù Ø²ÙÙ‡ÙØ¬ÙÂ </p>

<p>ÙˆÙØ¨ÙØ³ÙØ±ÙÙ‘ Ø§Ù„Ø¨ÙØ§Ø¡Ù ÙˆÙÙ†ÙÙ‚Ù’Ø·ÙØªÙÙ‡ÙØ§ Û Ù…ÙÙ†Ù’ Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡Ù Ù„ÙØ°ÙÙŠ Ø§Ù„Ù†ÙÙ‘Ù‡ÙØ¬Ù</p>
<p>ÙˆÙØ¨ÙÙ‚ÙØ§ÙÙ Ø§Ù„Ù‚ÙÙ‡Ù’Ø±Ù ÙˆÙÙ‚ÙÙˆÙÙ‘ØªÙÙ‡Ø§ Û ÙˆÙØ¨ÙÙ‚ÙÙ‡Ù’Ø±Ù Ø§Ù„Ù‚ÙØ§Ù‡ÙØ±Ù Ù„Ù„Ù…ÙÙ‡ÙØ¬Ù</p>

<p class="alt">ÙˆÙØ¨ÙØ¨ÙØ±Ø¯Ù Ø§Ù„Ù…ÙØ§ ÙˆØ¥ÙØ³ÙØ§ØºÙØªÙÙ‡ Û ÙˆÙØ¹ÙÙ…ÙÙˆÙ…Ù Ø§Ù„Ù†ÙÙ‘ÙÙ’Ø¹ Ù…ÙØ¹Ù Ø§Ù„Ø«ÙÙ‘Ù„ÙØ¬Ù</p>
<p class="alt">ÙˆÙØ¨ÙØ­ÙØ±ÙÙ‘ Ø§Ù„Ù†ÙÙ‘Ø§Ø±Ù ÙˆÙØ­ÙØ¯ÙÙ‘ØªÙ‡Ø§ Û ÙˆÙØ¨ÙØ³ÙØ±ÙÙ‘ Ø§Ù„Ø­ÙØ±Ù’Ù‚ÙØ©Ù ÙˆØ§Ù„Ù†ÙÙ‘Ø¶Ù’Ø¬Ù</p>

<p>ÙˆÙØ¨ÙÙ…ÙØ§ Ø·ÙØ¹ÙÙ…Ù’ØªÙ Ù…ÙÙ†Ù Ø§Ù„ØªÙÙ‘Ø·Ù’Ø¹ÙÙŠÙ… ÙˆÙÙ…ÙØ§ Û Ø¶ÙØ±ÙØ­ÙØªÙ’ Ù…ÙÙ†Ù Ø§Ù„Ø¶ÙÙ‘Ø±ÙØ¬Ù</p>
<p>ÙŠÙØ§Ù‚ÙØ§Ù‡ÙØ±Ù ÙŠÙØ§ Ø°ÙÙŠ Ø§Ù„Ø´Ø¯ÙÙ‘Ø© ÙŠÙØ§ Û Ø°ÙÙŠ Ø§Ù„Ø¨ÙØ·Ù’Ø´ Ø£ØºÙØ«Ù’ ÙŠÙØ§ Ø°ÙØ§ Ø§Ù„Ø­ÙØ¬ÙØ¬Ù</p>

<p class="alt">ÙŠÙØ§ Ø±Ø¨Ù‘ Ø¸ÙÙ„ÙÙ…Ù’Ù†ÙØ§ Ø£Ù†Ù’ÙÙØ³ÙÙ†ÙØ§ Û ÙˆÙÙ…ÙØµÙÙŠØ¨ÙØªÙÙ†ÙØ§ Ù…ÙÙ†Ù’ Ø­ÙÙŠÙ’Ø«Ù Ù†ÙØ¬</p>
<p class="alt">ÙŠÙØ§ Ø±Ø¨Ù‘ Ø®ÙÙ„ÙÙ‚Ù’Ù†ÙØ§ Ù…ÙÙ†Ù’ Ø¹ÙØ¬ÙÙ„Ù Û ÙÙØ¨ÙØ°ÙÙ„ÙÙƒÙ Ù†ÙØ¯Ù’Ø¹ÙÙˆ Ø¨Ø§Ù„Ù„ÙÙ‘Ø¬ÙØ¬Ù</p>

<p>ÙŠÙØ§ Ø±Ø¨Ù‘ ÙˆÙÙ„ÙÙŠÙ’Ø³Ù Ù„ÙÙ†ÙØ§ Ø¬ÙÙ„ÙØ¯ÙŒ Û Ø£Ù†ÙÙ‘Ù‰ ÙˆØ§Ù„Ù‚ÙÙ„Ù’Ø¨Ù Ø¹ÙÙ„ÙÙ‰ ÙˆÙÙ‡ÙØ¬ÙÂ </p>
<p>ÙŠÙØ§ Ø±ÙØ¨Ù‘ Ø¹ÙØ¨ÙÙŠØ¯ÙÙƒÙ Ù‚ÙØ¯Ù’ ÙˆÙÙÙØ¯ÙÙˆØ§ Û ÙŠÙØ¯Ù’Ø¹ÙÙˆÙƒ Ø¨ÙÙ‚ÙÙ„Ù’Ø¨Ù Ù…ÙÙ†Ù’Ø²ÙØ¹ÙØ¬Ù</p>

<p class="alt">ÙŠÙØ§ Ø±Ø¨ÙÙ‘ Ø¶ÙØ¹ÙØ§ÙÙŒ Ù„ÙÙŠÙ’Ø³Ù Ù„ÙÙ‡ÙÙ…Ù’ Û Ø£Ø­ÙØ¯ ÙŠÙØ±Ù’Ø¬ÙÙˆÙ†Ù Ù„ÙØ°ÙÙŠ Ø§Ù„Ù‡ÙØ±Ù’Ø¬Ù</p>
<p class="alt">ÙŠÙØ§ Ø±Ø¨Ù‘ ÙÙØµÙÙ‘Ø§Ø­Ù Ø§Ù„Ø£Ù„Ù’Ø³ÙÙ† Ù‚Ø¯ Û Ø£Ø¶Ù’Ø­ÙÙˆØ§ ÙÙÙŠ Ø§Ù„Ø´Ø¯ÙÙ‘Ø© ÙƒØ§Ù„Ù‡ÙÙ…ÙØ¬Ù</p>

<p>Ø§Ù„Ø³ÙÙ‘Ø§Ø¨ÙÙ‚Ù Ù…Ù†ÙÙ‘Ø§ ØµÙØ§Ø±Ù Ø¥Ø°ÙØ§ Û ÙŠÙØ¹Ù’Ø¯ÙÙˆØ§ ÙŠÙØ³Ù’Ø¨ÙÙ‚ÙÙ‡Ù Ø°ÙÙˆ Ø§Ù„Ø¹ÙØ±ÙØ¬Ù</p>
<p>ÙˆÙØ­ÙÙƒÙ’Ù…ÙØ©Ù Ø±Ø¨ÙÙ‘ÙŠ Ø¨ÙØ§Ù„ÙØºÙØ©ÙŒ Û Ø¬ÙÙ„ÙÙ‘Øª Ø¹ÙÙ† Ø­ÙÙŠÙ’ÙÙ Ø£ÙˆÙ’ Ø¹ÙˆØ¬Ù</p>

<p class="alt">ÙˆØ§Ù„Ø£Ù…Ù’Ø±Ù Ø¥ÙÙ„ÙŠÙ’ÙƒÙ ØªÙØ¯ÙØ¨ÙÙ‘Ø±ÙÙ‡Ù Û ÙÙØ£ÙØºÙØ«Ù’Ù†ÙØ§ Ø¨Ø§Ù„Ù„ÙÙ‘Ø·Ù Ø§Ù„Ø¨ÙÙ‡ÙØ¬ÙÂ </p>
<p class="alt">ÙˆØ§Ø¯Ù’Ø±Ø¬Ù’ ÙÙÙŠ Ø§Ù„Ø¹ÙÙ’ÙˆÙ Ø¥Ø³Ø§Ø¡ÙØªÙÙ†ÙØ§ Û ÙˆØ§Ù„Ø®ÙÙŠÙ’Ø¨ÙØ©Ù Ø¥Ù†Ù’ Ù„ÙÙ…Ù’ ØªÙÙ†Ù’Ø¯ÙØ±Ø¬ÙÂ </p>

<p>ÙŠÙØ§ Ù†ÙÙÙ’Ø³Ù ÙˆÙÙ…ÙØ§ Ù„ÙÙƒÙ Ù…ÙÙ†Ù’ ÙÙØ±ÙØ¬ Û Ø¥ÙÙ„ÙÙ‘Ø§ Ù…ÙÙˆÙ’Ù„ÙØ§ÙƒÙ Ù„ÙÙ‡Ù ÙØ¹ÙØ¬Ù</p>
<p>ÙˆÙØ¨ÙÙ‡Ù ÙÙÙ„ÙØ°ÙÙŠ ÙˆÙØ¨ÙÙ‡ ÙÙØ¹ÙØ°ÙÙŠÙ’ Û ÙˆÙÙ„ÙØ¨Ø§Ø¨Ù Ù…ÙÙƒÙØ§Ø±ÙÙ…ÙÙ‡ ÙÙÙ„ÙØ¬ÙÙŠ</p>

<p class="alt">ÙƒÙÙŠÙ’ ØªÙÙ†Ù’ØµÙÙ„ÙØ­ÙÙŠ ÙƒÙÙŠÙ’ ØªÙÙ†Ù’Ø´ÙØ±ÙØ­ÙÙŠ Û ÙƒÙÙŠÙ’ ØªÙÙ†Ù’Ø¨ÙØ³ÙØ·ÙÙŠ ÙƒÙÙŠÙ’ ØªÙØ¨Ù’ØªÙÙ‡ÙØ¬ÙÂ </p>
<p class="alt">ÙˆÙÙŠÙØ·ÙÙŠØ¨Ù Ù…ÙÙ‚ÙØ§Ù…ÙÙƒÙ Ù…ÙØ¹Ù’ Ù†ÙÙÙØ±Ù Û Ø£Ø¶Ù’Ø­ÙÙˆØ§ ÙÙÙŠ Ø§Ù„Ø­ÙÙ†Ù’Ø¯ÙØ³ ÙƒØ§Ù„Ø³ÙÙ‘Ø±ÙØ¬Ù</p>

<p>ÙˆÙÙÙ‘ÙˆØ§ Ù„Ù„Ù‡Ù Ø¨ÙÙ€Ù€Ù€Ù€Ù…ÙÙ€Ù€Ù€Ù€Ø§ Ø¹ÙÙ€Ù€Ù‡ÙÙ€Ø¯ÙÙˆØ§ Û Ù…ÙÙ† Ø¨ÙÙŠÙ’Ø¹ Ø§Ù„Ø£Ù†Ù’ÙÙÙ€Ù€Ù€Ù€Ù€Ø³ ÙˆØ§Ù„Ù€Ù€Ù…ÙÙ€Ù‡ÙÙ€Ù€Ø¬Ù</p>
<p>ÙˆÙÙ‡ÙÙ…Ù Ø§Ù„Ù€Ù€Ù‡ÙÙ€Ù€Ø§Ø¯ÙÙŠ ÙˆÙØµÙØ­ÙØ§Ø¨ÙØªÙ‡ Û Ø°ÙÙˆ Ø§Ù„Ù€Ù€Ø±Ù‘ØªÙ’Ù€Ø¨ÙÙ€Ø© ÙˆÙØ§Ù„Ù€Ø¹ÙÙ€Ø·Ù’Ù€Ù€Ø±Ù Ø§Ù„Ø£Ø±Ø¬Ù</p>

<p class="alt">Ù‚ÙÙˆÙ…ÙŒ Ø³ÙÙƒÙÙ†ÙÙˆØ§ Ø§Ù„ÙØ¬Ø±Ù’Ø¹ÙØ§Ø¡Ù ÙˆÙÙ‡ÙÙ…Ù’ Û Ø´ÙØ±ÙÙÙ Ø§Ù„ÙØ¬Ø±Ù’Ø¹ÙØ§Ø¡Ù ÙˆÙ…ÙÙ†Ù’Ø¹ÙØ±ÙØ¬Ù </p>
<p class="alt">Ø¬ÙØ§Ø¤ÙÙˆØ§ Ù„ÙÙ„Ù’ÙƒÙÙˆÙ’Ù†Ù ÙˆÙØ¸ÙÙ„Ù’Ù…ÙØªÙÙ‡Ù Û Ø¹ÙÙ…ÙÙ‘ØªÙ’ ÙˆÙØ¸ÙÙ„ÙØ§Ù…Ù Ø§Ù„Ø´ÙÙ‘Ø±Ù’ÙƒÙ Ø¯ÙØ¬ÙÙŠ</p>

<p>Ù…ÙØ§ Ø²ÙØ§Ù„Ù Ø§Ù„Ù†ÙØµÙ’Ø±Ù ÙŠÙØ­ÙÙÙÙ‡ÙÙ…Ù Û ÙˆØ§Ù„Ø¸ÙÙ„Ù’Ù…ÙØ©Ù ØªÙÙ…Ø­ÙÙ‰ Ø¨ÙØ§Ù„Ù’Ø¨ÙÙ„ÙØ¬Ù</p>
<p>Ø­ÙØªÙÙ‘Ù‰ Ù†ÙØµÙØ±ÙÙˆØ§ Ø§Ù„Ø¥Ø³Ù’Ù„ÙØ§Ù…Ù ÙˆÙØ¹ÙØ§Ø¯Ù Û Ø§Ù„Ù’Ø¯ÙÙŠÙ†Ù Ø¹ÙØ²ÙÙŠÙ’Ø²ÙØ§Ù‹ ÙÙÙŠÙ’ Ø¨ÙÙ‡ÙØ¬Ù</p>

<p class="alt">ÙÙØ¹ÙÙ„ÙÙŠÙ’Ù‡ÙÙ…Ù’ ØµÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø±ÙÙ‘Ø¨Ù Ø¹ÙÙ„ÙÙ‰ Û Ù…ÙØ±ÙÙ‘ Ø§Ù„Ø£ÙŠÙÙ‘Ø§Ù…Ù Ù…ÙØ¹Ù Ø§Ù„Ø­ÙØ¬ÙØ¬Ù</p>
<p class="alt">ÙˆÙØ¹Ù€Ù€Ù„Ù€Ù‰Â Ø§Ù„ØµØ¯ÙÙ‘ÙŠÙ‚Ù Ø®ÙÙ„ÙÙŠÙÙØªÙÙ‡Ù Û ÙˆÙƒÙØ°ÙØ§ Ø§Ù„ÙÙØ§Ø±ÙˆÙ‚Ù ÙˆÙƒÙÙ„ÙÙ‘ Ù†Ø¬Ù</p>

<p>ÙˆÙØ¹ÙÙ„Ù‰ Ø¹ÙØ«Ù’Ù…ÙØ§Ù† Ø´ÙÙ‡ÙÙŠØ¯ Ø§Ù„Ø¯Ù‘Ø§ Û Ù€Ù€Ù€Ù€Ù€Ø±Ù ÙˆÙÙÙÙ‰ ÙÙØ±ÙÙ‚ÙÙ‰ Ø£ÙØ¹Ù’Ù„ÙÙ‰ Ø§Ù„Ø¯ÙÙ‘Ø±ÙØ¬Ù</p>
<p>ÙˆÙØ£ÙØ¨ÙÙŠ Ø§Ù„Ø­ÙØ³ÙÙ†ÙÙŠÙ†Ù’ Ù…ÙØ¹Ù Ø§Ù„Ø£ÙˆÙ’Ù„Ø§ÙØ¯Ù Û ÙƒÙØ°ÙØ§ Ø§Ù„Ø£Ø²Ù’ÙˆÙØ§Ø¬Ù ÙˆÙƒÙÙ„ÙÙ‘ Ø´Ø¬ÙÂ </p>

<p class="alt">Ù…ÙØ§ Ù…ÙØ§Ù„Ù Ø§Ù„Ù…ÙØ§Ù„Ù ÙˆÙØ­ÙØ§Ù„Ù Ø§Ù„Ø­ÙØ§Ù„Ù Û ÙˆØ³ÙØ§Ø±Ù Ø§Ù„Ø³Ù‘Ø§Ø±ÙÙŠ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù„ÙØ¬Ù</p>
<p class="alt">ÙŠÙØ§ Ø±ÙØ¨Ù‘ Ø¨ÙÙ‡ÙÙ…Ù’ ÙˆÙØ¨Ø¢Ù„ÙÙ‡ÙÙ… Û Ø¹ÙØ¬ÙÙ‘Ù„Ù’ Ø¨Ø§Ù„Ù†ÙÙ‘ØµÙ’Ø±Ù ÙˆØ¨Ø§Ù„ÙÙØ±ÙØ¬Ù</p>

<p>ÙˆÙØ§ØºÙ’ÙÙØ±Ù’ ÙŠÙØ§ Ø±ÙØ¨ÙÙ‘ Ù„ÙÙ†ÙØ§Ø¸ÙÙ…ÙÙ‡ÙØ§ Û ÙˆÙÙ„ÙÙ‡Ù Ø±ÙÙ‚ÙÙ‘ Ø£ÙØ¹Ù’Ù„ÙÙ‰ Ø§Ù„Ø¯ÙÙ‘Ø±ÙØ¬Ù</p>
<p>ÙˆÙØ§Ø®Ù’ØªÙÙ…Ù’ Ø¹ÙÙ…ÙÙ„ÙÙŠ Ø¨ÙØ®ÙÙˆÙØ§ØªÙÙ…ÙÙ‡ÙØ§ Û Ù„ÙØ£ÙÙƒÙÙˆÙ†Ù ØºÙØ¯Ù‹Ø§ ÙÙÙŠ Ø§Ù„Ø­ÙØ´Ù’Ø±Ù Ù†ÙØ¬Ù</p>

<p class="alt">ÙˆÙØ¥ÙØ°ÙØ§ Ø¨ÙÙƒÙ Ø¶ÙØ§Ù‚Ù Ø§Ù„Ø£ÙÙ…Ù’Ø±Ù ÙÙÙ‚ÙÙ„Ù’ Û Ø§Ù„Ø´ÙÙ‘Ø¯ÙÙ‘Ø©Ù Ø£ÙÙˆÙ’Ø¯ÙØªÙ’ Ø¨ÙØ§Ù„Ù…Ù€ÙÙ€Ù€Ù€Ù‡ÙØ¬Ù</p>
<p class="alt">ÙŠØ§ Ø±ÙØ¨ÙÙ‘ ÙÙÙ€Ù€Ø¹ÙÙ€Ù€Ø¬ÙÙ„Ù’ Ø¨ÙØ§Ù„Ù€Ù€ÙÙÙ€Ù€Ø±ÙØ¬Ù</p>


    </div>

  </div>
  <div id="shareMenu" role="menu" aria-hidden="true">
    <button id="copyLinkButton" type="button">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
    <button id="whatsappShareButton" type="button">Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨</button>
    <button id="telegramShareButton" type="button">Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</button>
  </div>
  <script>
    // Hide chorus box if disable flag is present
    (function() {
      const container = document.querySelector('.container');
      const chorusBox = container.querySelector('.chorus-box');
      if (container.dataset.disableChorus === "true" && chorusBox) {
        chorusBox.style.display = 'none';
      }
    })();
    // Font size functionality for poem paragraphs
    (function() {
      const minFontSize = 1; // in rem
      const maxFontSize = 2.5; // in rem
      let currentFontSize = 1.2; // default as in CSS
      const paragraphs = document.querySelectorAll('.container p');
      function setFontSize(size) {
        size = Math.max(minFontSize, Math.min(maxFontSize, size));
        currentFontSize = size;
        paragraphs.forEach(function(p) {
          p.style.fontSize = size + 'rem';
        });
        applyAlternateLineColour();
      }
      window.changeFontSize = function(delta) {
        setFontSize(currentFontSize + 0.1 * delta);
      };
      // Ensure initial size is set
      setFontSize(currentFontSize);
    })();

    // Alternate line colour functionality
    function applyAlternateLineColour() {
      const paragraphs = document.querySelectorAll('.container p');
      const lightColor = "#256328"; // alternate colour in light mode
      const darkColor = "#53A2A9";  // alternate colour in dark mode
      const isDark = document.body.classList.contains('dark-mode');
      paragraphs.forEach((p) => {
        // Default: normal colour (let CSS handle it)
        p.style.color = '';
        // Only apply alternate colour if .alt class is present
        if (p.classList.contains('alt')) {
          p.style.color = isDark ? darkColor : lightColor;
        }
      });
    }
    applyAlternateLineColour();

    // Dark mode toggle with system preference support
    (function() {
      const toggleButton = document.getElementById('darkModeToggle');
      const darkModeClass = 'dark-mode';

      // Apply system preference on load
      function applySystemPreference() {
        if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.body.classList.add(darkModeClass);
        } else {
          document.body.classList.remove(darkModeClass);
        }
        applyAlternateLineColour();
      }

      applySystemPreference();

      // Listen for changes in system preference
      if(window.matchMedia) {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
          // Only apply system preference if user hasn't toggled manually
          if(!toggleButton.dataset.manualToggle) {
            if(e.matches) {
              document.body.classList.add(darkModeClass);
            } else {
              document.body.classList.remove(darkModeClass);
            }
            applyAlternateLineColour();
          }
        });
      }

      toggleButton.addEventListener('click', function() {
        document.body.classList.toggle(darkModeClass);
        // Mark manual toggle so system preference changes won't override
        toggleButton.dataset.manualToggle = 'true';
        applyAlternateLineColour();
      });
    })();

    // Custom share menu functionality
    (function() {
      const shareButton = document.getElementById('shareButton');
      const shareMenu = document.getElementById('shareMenu');
      const copyLinkButton = document.getElementById('copyLinkButton');
      const whatsappShareButton = document.getElementById('whatsappShareButton');
      const telegramShareButton = document.getElementById('telegramShareButton');

      // Toggle share menu visibility
      shareButton.addEventListener('click', function(event) {
        event.stopPropagation();
        if (shareMenu.style.display === 'flex') {
          shareMenu.style.display = 'none';
          shareMenu.setAttribute('aria-hidden', 'true');
        } else {
          shareMenu.style.display = 'flex';
          shareMenu.setAttribute('aria-hidden', 'false');
        }
      });

      // Hide share menu if clicking outside
      document.addEventListener('click', function() {
        if (shareMenu.style.display === 'flex') {
          shareMenu.style.display = 'none';
          shareMenu.setAttribute('aria-hidden', 'true');
        }
      });

      // Copy link functionality
      copyLinkButton.addEventListener('click', function() {
        const url = window.location.href;
        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(url).then(() => {
            alert('Ø§Ù„Ø±Ø§Ø¨Ø· ØªÙ… Ù†Ø³Ø®Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!');
            shareMenu.style.display = 'none';
            shareMenu.setAttribute('aria-hidden', 'true');
          }, () => {
            alert('ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·.');
          });
        } else {
          // fallback for older browsers
          const textArea = document.createElement("textarea");
          textArea.value = url;
          textArea.style.position = "fixed";
          textArea.style.left = "-999999px";
          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();
          try {
            document.execCommand('copy');
            alert('Ø§Ù„Ø±Ø§Ø¨Ø· ØªÙ… Ù†Ø³Ø®Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!');
            shareMenu.style.display = 'none';
            shareMenu.setAttribute('aria-hidden', 'true');
          } catch (err) {
            alert('ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·.');
          }
          document.body.removeChild(textArea);
        }
      });

      // WhatsApp share functionality
      whatsappShareButton.addEventListener('click', function() {
        const text = encodeURIComponent('Check out this poem: ' + window.location.href);
        const whatsappUrl = 'https://api.whatsapp.com/send?text=' + text;
        window.open(whatsappUrl, '_blank');
        shareMenu.style.display = 'none';
        shareMenu.setAttribute('aria-hidden', 'true');
      });

      // Telegram share functionality
      telegramShareButton.addEventListener('click', function() {
        const url = encodeURIComponent(window.location.href);
        const text = encodeURIComponent('Check out this poem');
        const telegramUrl = 'https://t.me/share/url?url=' + url + '&text=' + text;
        window.open(telegramUrl, '_blank');
        shareMenu.style.display = 'none';
        shareMenu.setAttribute('aria-hidden', 'true');
      });
    })();

    // Hamburger menu toggle for nav-pane on small screens
    (function() {
      const hamburgerButton = document.getElementById('hamburgerButton');
      const navPane = document.getElementById('navPane');

      hamburgerButton.addEventListener('click', function(event) {
        event.stopPropagation();
        navPane.classList.toggle('show');
      });

      // Hide nav-pane when clicking outside on small screens
      document.addEventListener('click', function() {
        if (navPane.classList.contains('show')) {
          navPane.classList.remove('show');
        }
      });

      // Prevent clicks inside nav-pane from closing it
      navPane.addEventListener('click', function(event) {
        event.stopPropagation();
      });
    })();

    // Translation and transliteration toggle functionality
  document.getElementById("translationToggle").addEventListener("click", () => {
    document.querySelectorAll(".container .translation").forEach(el => {
      el.style.display = (el.style.display === "none" || el.style.display === "") ? "block" : "none";
    });
  });

  document.getElementById("transliterationToggle").addEventListener("click", () => {
    document.querySelectorAll(".container .transliteration").forEach(el => {
      el.style.display = (el.style.display === "none" || el.style.display === "") ? "block" : "none";
    });
  });
    let poems = [];

    async function loadPoems() {
      try {
        const response = await fetch('https://raw.githubusercontent.com/youwi-08/qasidacollectionjson/main/poems-list.json');
        if (!response.ok) throw new Error('Failed to load poems list');
        poems = await response.json();
        displayPoems(poems);
      } catch (err) {
        // fallback: show error in nav
        const list = document.getElementById("poemList");
        list.innerHTML = "<li>ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ØµØ§Ø¦Ø¯</li>";
      }
    }

    function displayPoems(poemArray) {
      const list = document.getElementById("poemList");
      list.innerHTML = "";
      poemArray.forEach((poem) => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.textContent = poem.title;
        // Remove leading 'poems/' if present to avoid duplication
        let href = poem.file;
        if (href.startsWith("poems/")) {
          href = href.slice("poems/".length);
        }
        a.href = href;
        li.appendChild(a);
        list.appendChild(li);
      });
    }

document.getElementById("searchInput").addEventListener("input", (e) => {
  const searchTerm = e.target.value.trim().toLowerCase();

  // if empty, show all poems
  if (!searchTerm) {
    displayPoems(poems);
    return;
  }

  const filtered = poems.filter(poem => {
    // 1) check title
    if (poem.title && poem.title.toLowerCase().includes(searchTerm)) return true;

    // 2) check tags (if present)
    if (Array.isArray(poem.tags) &&
        poem.tags.some(tag => tag.toLowerCase().includes(searchTerm))) return true;

    // 3) optional: allow searching file or id
    if (poem.file && poem.file.toLowerCase().includes(searchTerm)) return true;
    if (poem.id && String(poem.id).toLowerCase().includes(searchTerm)) return true;

    return false;
  });

  displayPoems(filtered);
});

// ğŸ”‘ Call this so poems appear initially
loadPoems();
  </script>
</body>
</html>